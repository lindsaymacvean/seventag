
<!--mixin icon(name)-->
<!--    i.icon-#{name}-->
<div class="form form-substep">
  <table ng-table="view.existingTable" template-pagination="st-pagination.html" template-header="st-header.html" class="table table-condensed existing-triggers">
    <tr id="trigger-existing-{{ trigger.id }}-row" ng-repeat="trigger in $data track by trigger.id">
      <td data-title="''" class="existing-triggers-col1">
        <input type="checkbox" cc-checkbox="cc-checkbox" name="trigger_{{ trigger.id }}" checklist-model="view.chosenTriggers" checklist-value="trigger" id="trigger-existing-{{ trigger.id }}-checkbox"/>
      </td>
      <td data-title="'Name'" class="existing-triggers-col2"><span title="{{ trigger.name }}">{{ trigger.name | limitTo : 30 }}{{trigger.name.length > 30 ? '...' : ''}}</span></td>
      <td data-title="'Type'" class="existing-triggers-col3">{{ view.types[trigger.type]|translate }}</td>
    </tr>
  </table>
  <div ng-show="!view.existingTable.settings().$loading &amp;&amp; view.existingTable.total() === 0" class="alert alert-empty ng-hide">
    <h2 class="text-center"><strong translate="Your list is empty" translate-values="{list: ENTITY_NAME.toLowerCase()}"></strong></h2>
    <p translate="To add a new click the button below." translate-values="{ object: Trigger }" class="text-center"></p>
    <p class="text-center action">
      <a class="btn btn-primary btn-md" id="trigger-create-new-trigger-button" ng-click="view.showTriggerForm = true; view.showListTriggersForm = false; view.validateTriggers = false;">
        <spam class="plus">+</spam><strong translate="Add a new trigger"></strong>
      </a>
    </p>
    <p class="text-center cancel">
      <a class="btn btn-link btn-md" id="trigger-cancel-trigger-button" ng-click="view.showListTriggersForm = false; view.validateTriggers = false;" style="padding: 7px 32px;" translate="Cancel">
      </a>
    </p>
  </div>
  <div ng-if="!view.existingTable.settings().$loading &amp;&amp; view.existingTable.total() !== 0" class="form-group">
    <a class="btn btn-primary btn-md" id="trigger-existing-add-button" ng-click="view.addExistingTriggers(); view.showListTriggersForm = false;" translate="Add">
    </a>
    <a class="btn btn-default btn-md" id="trigger-existing-cancel-button" ng-click="view.showListTriggersForm = false; view.chosenTriggers = [];" translate="Cancel">
    </a>
  </div>
</div>